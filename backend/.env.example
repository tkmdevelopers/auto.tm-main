###############################################
# Offline Ubuntu Deployment .env Example
# Copy this file to .env and change ALL placeholder secrets.
###############################################

# API Port exposed publicly
PORT=3080

# Database connection (service name matches compose) 
DATABASE_HOST=db
DATABASE_PORT=5432
DATABASE_USERNAME=auto_tm
DATABASE_PASSWORD=Key_bismynick1
DATABASE=auto_tm

# Auth / JWT secrets (CHANGE THESE IN REAL DEPLOYMENT)
ACCESS_TOKEN_SECRET_KEY=change_me_access_secret
REFRESH_TOKEN_SECRET_KEY=change_me_refresh_secret

# Email (optional features) - replace if email sending is used
EMAIL_USER=replace_me_email
EMAIL_PASSWORD=replace_me_email_password

# Firebase config (adjust for your project)
FIREBASE_PROJECT_ID=alpha-motors
FIREBASE_CLIENT_EMAIL=replace_me_client_email
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n(escape newlines with \n)\n-----END PRIVATE KEY-----"

# Upload directory (internal container path)
UPLOAD_DIR=/app/uploads

# ============================================================
# OTP Configuration
# ============================================================

# OTP expiration time in seconds (default: 5 minutes)
OTP_TTL_SECONDS=300

# Maximum verification attempts before OTP is invalidated
OTP_MAX_ATTEMPTS=5

# Per-phone rate limit (in addition to IP throttling)
OTP_PHONE_RATE_LIMIT_WINDOW_MS=60000
OTP_PHONE_RATE_LIMIT_MAX=3

# Test OTP controls
OTP_TEST_MODE=true
OTP_TEST_ALLOW_IN_PROD=false
OTP_TEST_CODE_RESPONSE=false

# Optional allowlist for production test numbers
TEST_OTP_NUMBERS_PROD=99361999999,99361999991

# Comma-separated list of test phone numbers (return deterministic OTP 12345)
TEST_OTP_NUMBERS=99361999999,99361999991,99361999992

# Prefix for test numbers (any number starting with this returns 12345)
TEST_OTP_PREFIX=9936199999

# ============================================================
# SMS Device Gateway (Physical Phone)
# ============================================================

# Auth token required from connecting SMS devices (leave empty for no auth)
SMS_DEVICE_AUTH_TOKEN=

# Default region for SMS routing
SMS_DEFAULT_REGION=tm

# OTP SMS message template ({code} and {ttl} are replaced)
SMS_OTP_TEMPLATE=Alpha Motors: Your verification code is {code}. Valid for {ttl} minutes.
